# Bluetooth Audio configuration options

#
# Copyright (c) 2020 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#

menuconfig BT_AUDIO
	bool "Bluetooth Audio support [Experimental]"
	help
	  This option enables Bluetooth Audio support. The specific
	  features that are available may depend on other features
	  that have been enabled in the stack, such as Periodic
	  Advertisement for Broadcast and L2CAP Dynamic Channel
	  for Unicast.

if BT_AUDIO

config BT_ISO
	bool

config BT_CCID
	bool # hidden
	default n
	help
	  This hidden option is enabled when any of the content control
	  features are enabled.

if BT_CONN

config BT_AUDIO_UNICAST
	bool "Bluetooth Unicast Audio Support"
	select BT_SMP
	select BT_L2CAP_DYNAMIC_CHANNEL
	select BT_ISO
	select BT_GATT_DYNAMIC_DB
	select BT_GATT_CACHING
	select BT_EATT
	help
	  This option enables support for Bluetooth Unicast Audio using
	  Isochronous channels.

if BT_AUDIO_UNICAST

config BT_MAX_ISO_CONN
	int "Maximum number of simultaneous ISO connections"
	depends on BT_ISO
	default BT_MAX_CONN
	range 1 64
	help
	  Maximum number of simultaneous Bluetooth isochronous connections
	  supported.

config BT_ISO_TX_BUF_COUNT
	int "Numer of Isochronous TX buffers"
	default 1
	range 1 255
	help
	  Number of buffers available for outgoing Isochronous channel packets.

config BT_ISO_TX_FRAG_COUNT
	int "Number of ISO TX fragment buffers"
	default 2
	range 0 255
	help
	  Number of buffers available for fragments of TX buffers. Warning:
	  setting this to 0 means that the application must ensure that
	  queued TX buffers never need to be fragmented, i.e. that the
	  controller's buffer size is large enough. If this is not ensured,
	  and there are no dedicated fragment buffers, a deadlock may occur.
	  In most cases the default value of 2 is a safe bet.

config BT_ISO_TX_MTU
	int "Maximum supported MTU for Isochronous TX buffers"
	default 251
	range 23 2000
	help
	  Maximum MTU for Isochronous channels TX buffers.

config BT_ISO_RX_BUF_COUNT
	int "Numer of Isochronous RX buffers"
	default 1
	range 1 255
	help
	  Number of buffers available for incoming Isochronous channel packets.

config BT_ISO_RX_MTU
	int "Maximum supported MTU for Isochronous RX buffers"
	default 251
	range 23 2000
	help
	  Maximum MTU for Isochronous channels RX buffers.

config BT_CODEC_MAX_DATA_COUNT
	int "Codec Capabilities Data Count"
	default 5
	range 1 128
	help
	  This option defines the maximum number of LTV entries a codec can
	  store.

config BT_CODEC_MAX_DATA_LEN
	int "Codec Capabilities Data Length"
	default 4
	range 1 128
	help
	  This option defines the maximum value length of an LTV entry a codec
	  can store.

config BT_CODEC_MAX_METADATA_COUNT
	int "Codec Metadata Count"
	default 2
	range 1 128
	help
	  This option defines the maximum number of LTV entries a metadata can
	  store.

config BT_CODEC_MAX_METADATA_LEN
	int "Codec Metadata Length"
	default 4
	range 1 128
	help
	  This option defines the maximum value length of an LTV entry a
	  metadata can store.

source "subsys/bluetooth/host/audio/Kconfig.baps"

endif # BT_AUDIO_UNICAST
endif # BT_CONN

config BT_AUDIO_DEBUG
	bool "Enable debug logs"
	depends on BT_DEBUG
	help
	  Use this option to enable debug logs for the Bluetooth
	  Audio functionality.

if BT_AUDIO_DEBUG

config BT_AUDIO_DEBUG_ISO
	bool "ISO channel debug"
	help
	  Use this option to enable ISO channels debug logs for the
	  Bluetooth Audio functionality.


config BT_DEBUG_PACS
	bool "Published Audio Capabilities Service debug"
	depends on BT_PACS
	help
	  Use this option to enable Published Audio Capabilities Service debug
	  logs for the Bluetooth Audio functionality.

config BT_AUDIO_DEBUG_CHAN
	bool "Bluetooth Audio Channel debug"
	depends on BT_AUDIO_CHAN
	help
	  Use this option to enable Bluetooth Audio Channel debug logs for the
	  Bluetooth Audio functionality.

config BT_AUDIO_DEBUG_ENDPOINT
	bool "Bluetooth Audio Endpoint debug"
	depends on BT_AUDIO_ENDPOINT
	help
	  Use this option to enable Bluetooth Audio Endpoint debug logs for the
	  Bluetooth Audio functionality.

config BT_DEBUG_ASCS
	bool "Audio Stream Control Service debug"
	depends on BT_ASCS
	help
	  Use this option to enable Audio Stream Control Service debug logs for
	  the Bluetooth Audio functionality.

config BT_DEBUG_BAP
	bool "Basic Audio Profile debug"
	depends on BT_BAP
	help
	  Use this option to enable Basic Audio Profile debug logs for the
	  Bluetooth Audio functionality.

endif # BT_AUDIO_DEBUG

# Include Kconfig files for the various parts of the host audio stack
source "subsys/bluetooth/host/audio/Kconfig.csis"
source "subsys/bluetooth/host/audio/Kconfig.vocs"
source "subsys/bluetooth/host/audio/Kconfig.aics"
source "subsys/bluetooth/host/audio/Kconfig.bass"
source "subsys/bluetooth/host/audio/Kconfig.tbs"

endif # BT_AUDIO
